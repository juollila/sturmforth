CR .( LOADING TEST SUITE: 2MEM) CR

VARIABLE EXE
VARIABLE OK
VARIABLE FAIL
VARIABLE STEP

: ISUITE
0 EXE ! 0 OK ! 0 FAIL ! ;
: CHECK0
  DEPTH 0= IF 1 STEP +! THEN ;
: CHECK1
  DEPTH 1 = IF 1 STEP +! THEN ;
: CHECK2
  DEPTH 2 = IF 1 STEP +! THEN ;
: CHECK3
  DEPTH 3 = IF 1 STEP +! THEN ;
: CHECK4
  DEPTH 4 = IF 1 STEP +! THEN ;
: ASSERT
  = IF 1 STEP +! THEN ;
: PROK
  ." ok" CR ;
: PRNOK
  ." fail" CR ;
: RESULT
  = IF 1 OK +! PROK ELSE 1 FAIL +! PRNOK THEN ;
: ICASE
  1 EXE +! 0 STEP ! ;
: STAT
  CR ." eXECUTED " OK @ . ." / " EXE @ .
  ." CASES SUCCESSFULLY" CR ;

: T-2!
  ." TESTING 2! - "
  ICASE
  1234 5678 49152 CHECK3
  2! CHECK0
  STEP @ 2 RESULT
;

: T-2@
  ." TESTING 2@ - "
  ICASE
  1234 5678 49152 2! CHECK0
  49152 @ 1234 ASSERT
  49154 @ 5678 ASSERT
  CHECK0
  STEP @ 4 RESULT
;

1234 5678 2CONSTANT CON1

: T-2CONSTANT
  ." TESTING 2CONSTANT - "
  ICASE
  CHECK0
  CON1 CHECK2
  5678 ASSERT
  1234 ASSERT
  STEP @ 4 RESULT
;

2VARIABLE VAR1

: T-2VARIABLE
  ." TESTING 2VARIABLE - "
  ICASE
  1234 5678 VAR1 2! CHECK0
  VAR1 2@ CHECK2
  5678 ASSERT
  1234 ASSERT
  STEP @ 4 RESULT
;

: 2MEM
  CR ISUITE
  T-2!
  T-2@
  T-2CONSTANT
  T-2VARIABLE
  STAT
;

